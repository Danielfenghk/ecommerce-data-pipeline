# E-Commerce Data Pipeline æ•¸æ“šæµå‹•èˆ‡ Airflow èª¿åº¦æµç¨‹åœ–

## ğŸ“Š å®Œæ•´æ•¸æ“šæµå‹•æ¶æ§‹åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           E-COMMERCE DATA PIPELINE PLATFORM                      â”‚
â”‚                          æ•¸æ“šæµå‹•èˆ‡èª¿åº¦æµç¨‹åœ–                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚   æ•¸æ“šä¾†æº    â”‚    â”‚   Apache    â”‚    â”‚   Apache    â”‚    â”‚   Data     â”‚       â”‚
â”‚  â”‚   (Sources)  â”‚    â”‚   Kafka     â”‚    â”‚   Spark     â”‚    â”‚   Lake      â”‚       â”‚
â”‚  â”‚             â”‚    â”‚   (Queue)    â”‚    â”‚   (Process)  â”‚    â”‚   (MinIO)   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚         â”‚                  â”‚                  â”‚                  â”‚              â”‚
â”‚         â”‚                  â”‚                  â”‚                  â”‚              â”‚
â”‚         â”‚                  â”‚                  â”‚                  â”‚              â”‚
â”‚         â”‚                  â”‚                  â”‚                  â”‚              â”‚
â”‚         â–¼                  â–¼                  â–¼                  â–¼              â”‚
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                        AIRFLOW SCHEDULER                                   â”‚ â”‚
â”‚  â”‚                        èª¿åº¦å¼•æ“                                              â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚                                                                             â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚ â”‚
â”‚  â”‚  â”‚ DAILY ETL PIPE  â”‚  â”‚ HOURLY STREAMING â”‚  â”‚ DATA QUALITY    â”‚              â”‚ â”‚
â”‚  â”‚  â”‚ æ¯æ—¥ETLç®¡é“      â”‚  â”‚ æ¯å°æ™‚ä¸²æµç®¡é“    â”‚  â”‚ å“è³ªæª¢æŸ¥DAG      â”‚              â”‚ â”‚
â”‚  â”‚  â”‚ (0 2 * * *)     â”‚  â”‚ (0 * * * *)      â”‚  â”‚ (0 */4 * * *)    â”‚              â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚ â”‚
â”‚  â”‚         â”‚                     â”‚                     â”‚                         â”‚ â”‚
â”‚  â”‚         â–¼                     â–¼                     â–¼                         â”‚ â”‚
â”‚  â”‚                                                                             â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚                          DATA FLOW PROCESSING                           â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â”‚                                                                             â”‚ â”‚
â”‚  â”‚                                                                             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                                 â”‚
â”‚         â–²                  â–²                  â–²                  â–²              â”‚
â”‚         â”‚                  â”‚                  â”‚                  â”‚              â”‚
â”‚         â”‚                  â”‚                  â”‚                  â”‚              â”‚
â”‚         â”‚                  â”‚                  â”‚                  â”‚              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚   PostgreSQL â”‚    â”‚   Kafka     â”‚    â”‚   Spark     â”‚    â”‚   MinIO     â”‚       â”‚
â”‚  â”‚   Data       â”‚    â”‚   Topics    â”‚    â”‚   Jobs      â”‚    â”‚   Lake      â”‚       â”‚
â”‚  â”‚   Warehouse  â”‚    â”‚             â”‚    â”‚             â”‚    â”‚             â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                                 â”‚
â”‚                                         â–¼                                       â”‚
â”‚                                                                                 â”‚
â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚                     â”‚           CONSUMPTION LAYER        â”‚                     â”‚
â”‚                     â”‚           æ¶ˆè²»å±¤                    â”‚                     â”‚
â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                                                                                 â”‚
â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚                     â”‚ Grafana  â”‚  â”‚ Metabase â”‚  â”‚ Apache       â”‚                 â”‚
â”‚                     â”‚ (ç›£æ§)    â”‚  â”‚ (BI)     â”‚  â”‚ Airflow      â”‚                 â”‚
â”‚                     â”‚          â”‚  â”‚          â”‚  â”‚ (ç·¨æ’)        â”‚                 â”‚
â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ æ•¸æ“šæµå‹•è©³è§£

### Phase 1: æ•¸æ“šæå– (Ingestion Layer)
**æºä»£ç¢¼æ–‡ä»¶**: `src/ingestion/`

```
æ•¸æ“šä¾†æº â†’ Kafka Producer â†’ Kafka Topics
    â†“           â†“             â†“
REST API    Kafka Producer   Topics:
â€¢ Orders     â†’ Events        â€¢ orders
â€¢ CSV Files  â†’ Messages      â€¢ products
â€¢ PostgreSQL â†’ Streams       â€¢ customers
                              â€¢ events
                              â€¢ processed-orders
                              â€¢ data-quality-alerts
```

**é—œéµæ–‡ä»¶**:
- `src/ingestion/database_ingestion.py` - æ•¸æ“šåº«æå–
- `src/ingestion/file_ingestion.py` - æ–‡ä»¶æå–
- `src/ingestion/api_ingestion.py` - APIæ•¸æ“šæå–
- `src/ingestion/kafka_producer.py` - Kafkaç”Ÿç”¢è€…

### Phase 2: æ•¸æ“šè™•ç† (Processing Layer)
**æºä»£ç¢¼æ–‡ä»¶**: `spark_jobs/`, `src/processing/`

```
Kafka â†’ Spark Processing â†’ Lakehouse Storage
   â†“           â†“              â†“
Topics     Processing:       Layers:
â€¢ Raw      â€¢ Bronze Layer    â€¢ Bronze: raw_*
â€¢ Events   â€¢ Silver Layer    â€¢ Silver: cleaned_*
â€¢ Stream   â€¢ Gold Layer      â€¢ Gold: dim_*, fact_*
```

**é—œéµæ–‡ä»¶**:
- `spark_jobs/iceberg_bronze_ingestion.py` - é’éŠ…å±¤è¼‰å…¥
- `spark_jobs/iceberg_silver_transform.py` - éŠ€å±¤è½‰æ›
- `spark_jobs/iceberg_gold_aggregate.py` - é‡‘å±¤èšåˆ
- `spark_jobs/streaming_events_processing.py` - ä¸²æµè™•ç†
- `src/processing/transformations.py` - æ•¸æ“šè½‰æ›é‚è¼¯

### Phase 3: æ•¸æ“šå€‰å„² (Warehouse Layer)
**æºä»£ç¢¼æ–‡ä»¶**: `src/warehouse/`, `dbt_project/`

```
Lakehouse â†’ PostgreSQL DW â†’ Analytics
    â†“           â†“            â†“
Iceberg     Dimension/       Reports:
Tables      Fact Tables      â€¢ Sales Reports
â€¢ Bronze    â€¢ dim_customers  â€¢ Customer Analytics
â€¢ Silver    â€¢ dim_products   â€¢ Product Performance
â€¢ Gold      â€¢ fact_orders    â€¢ Inventory Reports
```

**é—œéµæ–‡ä»¶**:
- `src/warehouse/data_warehouse.py` - å€‰åº«æ“ä½œ
- `src/warehouse/schema_definitions.py` - æ¨¡å¼å®šç¾©
- `dbt_project/models/` - DBTæ¨¡å‹å®šç¾©
- `sql/create_warehouse_tables.sql` - å€‰åº«è¡¨çµæ§‹

## ğŸ¯ Airflow èª¿åº¦æµç¨‹è©³åœ–

### DAG 1: æ¯æ—¥ ETL ç®¡é“ (`dags/daily_etl_pipeline.py`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DAILY ETL PIPELINE (0 2 * * *)                    â”‚
â”‚                    æ¯æ—¥å‡Œæ™¨2é»åŸ·è¡Œï¼Œè™•ç†æ‰¹é‡æ•¸æ“š                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  START â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚
â”‚    â”‚                                                                       â”‚
â”‚    â–¼                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚    EXTRACT GROUP     â”‚ â—„â”€â”€ TaskGroup                                    â”‚
â”‚  â”‚    æ•¸æ“šæå–éšæ®µ       â”‚                                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚    â”‚                                                                       â”‚
â”‚    â–¼                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚  TRANSFORM GROUP     â”‚ â—„â”€â”€ TaskGroup                                    â”‚
â”‚  â”‚  æ•¸æ“šè½‰æ›éšæ®µ        â”‚                                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚    â”‚                                                                       â”‚
â”‚    â–¼                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚ VALIDATE QUALITY     â”‚ â—„â”€â”€ PythonOperator                              â”‚
â”‚  â”‚ æ•¸æ“šå“è³ªæª¢æŸ¥         â”‚                                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚    â”‚                                                                       â”‚
â”‚    â–¼                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚ QUALITY BRANCH       â”‚ â—„â”€â”€ BranchPythonOperator                        â”‚
â”‚  â”‚ å“è³ªåˆ†æ”¯æ±ºç­–         â”‚                                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚    â”‚                                                                       â”‚
â”‚    â”œâ”€â”€ Success (â‰¥90%) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚
â”‚    â”‚                                                                       â”‚
â”‚    â–¼                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚ LOAD TO WAREHOUSE    â”‚ â—„â”€â”€ PythonOperator                              â”‚
â”‚  â”‚ åŠ è¼‰åˆ°å€‰åº«           â”‚                                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚    â”‚                                                                       â”‚
â”‚    â”œâ”€â”€ Medium (70-90%) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚
â”‚    â”‚                                                                       â”‚
â”‚    â–¼                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚ LOAD WITH QUARANTINE â”‚ â—„â”€â”€ PythonOperator                              â”‚
â”‚  â”‚ éš”é›¢åŠ è¼‰             â”‚                                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚    â”‚                                                                       â”‚
â”‚    â””â”€â”€ Failed (<70%) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚   QUALITY FAILED     â”‚ â—„â”€â”€ DummyOperator                               â”‚
â”‚  â”‚   å“è³ªå¤±æ•—           â”‚                                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚    â”‚                                                                       â”‚
â”‚    â–¼                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚ UPDATE AGGREGATES    â”‚ â—„â”€â”€ PythonOperator                              â”‚
â”‚  â”‚ æ›´æ–°èšåˆè¡¨           â”‚                                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚    â”‚                                                                       â”‚
â”‚    â–¼                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚  SEND NOTIFICATION   â”‚ â—„â”€â”€ PythonOperator                              â”‚
â”‚  â”‚  ç™¼é€é€šçŸ¥            â”‚                                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚    â”‚                                                                       â”‚
â”‚    â–¼                                                                       â”‚
â”‚  END â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ•¸æ“šæµå‹•è·¯å¾‘ï¼š
Extract â†’ Transform â†’ Quality Check â†’ Branch â†’ Load â†’ Aggregate â†’ Notify
```

### DAG 2: æ¯å°æ™‚ä¸²æµç®¡é“ (`dags/hourly_streaming_pipeline.py`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 HOURLY STREAMING PIPELINE (0 * * * *)                 â”‚
â”‚                 æ¯å°æ™‚åŸ·è¡Œï¼Œè™•ç†å¯¦æ™‚æ•¸æ“šæµ                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  START â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚
â”‚    â”‚                                                                       â”‚
â”‚    â–¼                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚   CHECK KAFKA       â”‚ â—„â”€â”€ PythonOperator                              â”‚
â”‚  â”‚   æª¢æŸ¥Kafkaç‹€æ…‹      â”‚                                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚    â”‚                                                                       â”‚
â”‚    â–¼                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚  CONSUME ORDERS     â”‚ â—„â”€â”€ PythonOperator                              â”‚
â”‚  â”‚  æ¶ˆè²»è¨‚å–®äº‹ä»¶        â”‚                                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚    â”‚                                                                       â”‚
â”‚    â–¼                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚  PROCESS BATCH      â”‚ â—„â”€â”€ PythonOperator                              â”‚
â”‚  â”‚  æ‰¹é‡è™•ç†            â”‚                                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚    â”‚                                                                       â”‚
â”‚    â”œâ”€â”€ Parallel Processing â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚
â”‚    â”‚                                                                       â”‚
â”‚    â–¼                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚ SPARK PROCESSING     â”‚ â—„â”€â”€ SparkSubmitOperator                        â”‚
â”‚  â”‚ Sparkè¤‡é›œè™•ç†        â”‚                                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚    â”‚                                                                       â”‚
â”‚    â–¼                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚ UPDATE AGGREGATES    â”‚ â—„â”€â”€ PythonOperator                              â”‚
â”‚  â”‚ æ›´æ–°å¯¦æ™‚èšåˆ         â”‚                                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚    â”‚                                                                       â”‚
â”‚    â–¼                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚  SYNC TO LAKE       â”‚ â—„â”€â”€ PythonOperator                              â”‚
â”‚  â”‚  åŒæ­¥åˆ°æ•¸æ“šæ¹–        â”‚                                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚    â”‚                                                                       â”‚
â”‚    â–¼                                                                       â”‚
â”‚  END â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ•¸æ“šæµå‹•è·¯å¾‘ï¼š
Kafka Check â†’ Consume â†’ Process â†’ Spark â†’ Aggregate â†’ Lake Sync
```

### DAG 3: æ•¸æ“šå“è³ªæª¢æŸ¥ (`dags/data_quality_dag.py`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 DATA QUALITY DAG (0 */4 * * *)                         â”‚
â”‚                 æ¯4å°æ™‚åŸ·è¡Œå“è³ªæª¢æŸ¥                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  START â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚
â”‚    â”‚                                                                       â”‚
â”‚    â”œâ”€â”€ Parallel Quality Checks â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚
â”‚    â”‚                                                                       â”‚
â”‚    â–¼                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ CHECK CUSTOMERS     â”‚  â”‚  CHECK PRODUCTS     â”‚  â”‚  CHECK ORDERS       â”‚ â”‚
â”‚  â”‚ å®¢æˆ¶ç¶­åº¦å“è³ªæª¢æŸ¥     â”‚  â”‚ ç”¢å“ç¶­åº¦å“è³ªæª¢æŸ¥    â”‚  â”‚ è¨‚å–®äº‹å¯¦è¡¨å“è³ªæª¢æŸ¥   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚    â”‚                                                                       â”‚
â”‚    â–¼                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚ CHECK REFERENTIAL    â”‚ â—„â”€â”€ PythonOperator                              â”‚
â”‚  â”‚ åƒè€ƒå®Œæ•´æ€§æª¢æŸ¥       â”‚                                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚    â”‚                                                                       â”‚
â”‚    â–¼                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚ CHECK CONSISTENCY    â”‚ â—„â”€â”€ PythonOperator                              â”‚
â”‚  â”‚ æ•¸æ“šä¸€è‡´æ€§æª¢æŸ¥       â”‚                                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚    â”‚                                                                       â”‚
â”‚    â–¼                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚ CHECK FRESHNESS      â”‚ â—„â”€â”€ PythonOperator                              â”‚
â”‚  â”‚ æ•¸æ“šæ–°é®®åº¦æª¢æŸ¥       â”‚                                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚    â”‚                                                                       â”‚
â”‚    â–¼                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚ AGGREGATE RESULTS    â”‚ â—„â”€â”€ PythonOperator                              â”‚
â”‚  â”‚ èšåˆæª¢æŸ¥çµæœ         â”‚                                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚    â”‚                                                                       â”‚
â”‚    â–¼                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚    DECIDE BRANCH     â”‚ â—„â”€â”€ BranchPythonOperator                        â”‚
â”‚  â”‚    æ±ºç­–åˆ†æ”¯          â”‚                                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚    â”‚                                                                       â”‚
â”‚    â”œâ”€â”€ Healthy â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚
â”‚    â”‚                                                                       â”‚
â”‚    â–¼                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚ SUCCESS NOTIFICATION â”‚ â—„â”€â”€ PythonOperator                              â”‚
â”‚  â”‚ æˆåŠŸé€šçŸ¥             â”‚                                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚    â”‚                                                                       â”‚
â”‚    â””â”€â”€ Degraded â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚ ALERT NOTIFICATION   â”‚ â—„â”€â”€ PythonOperator                              â”‚
â”‚  â”‚ å‘Šè­¦é€šçŸ¥             â”‚                                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚    â”‚                                                                       â”‚
â”‚    â–¼                                                                       â”‚
â”‚  END â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ•¸æ“šæµå‹•è·¯å¾‘ï¼š
Parallel Checks â†’ Referential â†’ Consistency â†’ Freshness â†’ Aggregate â†’ Notify
```

## ğŸ“‹ å®Œæ•´æºä»£ç¢¼æ–‡ä»¶åˆ—è¡¨

### Airflow DAG æ–‡ä»¶
1. **`dags/daily_etl_pipeline.py`** - æ¯æ—¥ETLç®¡é“èª¿åº¦
2. **`dags/hourly_streaming_pipeline.py`** - æ¯å°æ™‚ä¸²æµç®¡é“èª¿åº¦
3. **`dags/data_quality_dag.py`** - æ•¸æ“šå“è³ªæª¢æŸ¥èª¿åº¦

### æ•¸æ“šæå–å±¤
4. **`src/ingestion/database_ingestion.py`** - æ•¸æ“šåº«æ•¸æ“šæå–
5. **`src/ingestion/file_ingestion.py`** - æ–‡ä»¶æ•¸æ“šæå–
6. **`src/ingestion/api_ingestion.py`** - APIæ•¸æ“šæå–
7. **`src/ingestion/kafka_producer.py`** - Kafkaæ•¸æ“šç”Ÿç”¢

### æ•¸æ“šè™•ç†å±¤
8. **`src/processing/transformations.py`** - æ•¸æ“šè½‰æ›é‚è¼¯
9. **`spark_jobs/iceberg_bronze_ingestion.py`** - é’éŠ…å±¤æ•¸æ“šè¼‰å…¥
10. **`spark_jobs/iceberg_silver_transform.py`** - éŠ€å±¤æ•¸æ“šæ¸…æ´—
11. **`spark_jobs/iceberg_gold_aggregate.py`** - é‡‘å±¤æ•¸æ“šèšåˆ
12. **`spark_jobs/streaming_events_processing.py`** - å¯¦æ™‚äº‹ä»¶è™•ç†

### æ•¸æ“šå€‰å„²å±¤
13. **`src/warehouse/data_warehouse.py`** - æ•¸æ“šå€‰åº«æ“ä½œ
14. **`src/warehouse/schema_definitions.py`** - å€‰åº«æ¨¡å¼å®šç¾©
15. **`dbt_project/models/staging/`** - DBTæš«å­˜æ¨¡å‹
16. **`dbt_project/models/intermediate/`** - DBTä¸­é–“æ¨¡å‹
17. **`dbt_project/models/marts/`** - DBTå•†æ¥­é‚è¼¯æ¨¡å‹

### æ•¸æ“šå“è³ªå±¤
18. **`src/quality/data_quality_checks.py`** - å“è³ªæª¢æŸ¥é‚è¼¯
19. **`run_quality_checks.py`** - å“è³ªæª¢æŸ¥åŸ·è¡Œè…³æœ¬

### é…ç½®èˆ‡å·¥å…·
20. **`src/config/settings.py`** - ç³»çµ±é…ç½®
21. **`src/utils/database_utils.py`** - æ•¸æ“šåº«å·¥å…·
22. **`src/utils/logging_utils.py`** - æ—¥èªŒå·¥å…·
23. **`scripts/start_pipeline.sh`** - ç®¡é“å•Ÿå‹•è…³æœ¬

### åŸºç¤è¨­æ–½
24. **`docker-compose.yml`** - å®¹å™¨ç·¨æ’é…ç½®
25. **`sql/create_source_tables.sql`** - æºæ•¸æ“šåº«è¡¨çµæ§‹
26. **`sql/create_warehouse_tables.sql`** - å€‰åº«è¡¨çµæ§‹

## ğŸ”„ æ•¸æ“šç”Ÿå‘½å‘¨æœŸç¸½è¦½

```
åŸå§‹æ•¸æ“š â†’ æå– â†’ Kafka â†’ è™•ç† â†’ å­˜å„² â†’ æ¶ˆè²»
    â†“       â†“      â†“      â†“      â†“      â†“
 Sources â†’ Ingestion â†’ Queue â†’ Spark â†’ Lakehouse â†’ BI Tools
    â†“       â†“      â†“      â†“      â†“      â†“
PostgreSQL Files API  Topics  Jobs   Iceberg   Grafana
CSV JSON REST        Events  Transforms MinIO    Metabase
```

**èª¿åº¦é »ç‡**:
- **æ¯æ—¥ETL**: å‡Œæ™¨2é»æ‰¹é‡è™•ç†æ­·å²æ•¸æ“š
- **æ¯å°æ™‚ä¸²æµ**: å¯¦æ™‚è™•ç†ç•¶å‰å°æ™‚çš„äº‹ä»¶
- **æ¯4å°æ™‚å“è³ª**: æŒçºŒç›£æ§æ•¸æ“šå“è³ªç‹€æ…‹

é€™å€‹æ¶æ§‹ç¢ºä¿äº†æ•¸æ“šå¾ç”Ÿç”¢åˆ°æ¶ˆè²»çš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œå¯¦ç¾äº†æ‰¹é‡è™•ç†å’Œå¯¦æ™‚è™•ç†çš„å®Œç¾çµåˆã€‚
